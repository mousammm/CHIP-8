# main.c
TIP: Open the main.c

# Includes 

```c
#include <stdio.h>   
#include "sdl.h"
#include "chip8.h"
```
* stdio: for input output i.e printf etc
* sdl.h: for display (will discuss later)
* chip8.h: our logic for chip8, most important file

# int main(int argc,char **argv)

```c
if (argc < 2) return 1;
```

* its pretty self explanatory 
* its checking if we pass any argument
* yeah i know u could print the usage if failed but idc

## chip8 initialization

```c
chip8_t chip8 = {0};
chip8_init(&chip8);
```
* we are creating a chip8 variable of chip8_t data type
* and initialization it with 0 
* next we are passing the address of chip8 variable to chip8_init function
* definetly having some pointer knowledge is useful

## loading the rom file

```c
if (!chip8_load_rom(&chip8,argv[1])) return 1;
```c

* now we are reading the rom file 
* yeah yeah u can give some feedback if it failed but idc

## sdl initialization

```c
sdl_t sdl = {0};
if(!sdl_init(&sdl)) return 1;
```
* now we are crating a sdl varibale of sdl_t data type
* and initialization with 0
* i know u could print something if it succed or failed whatever

## main loop

```c
while (sdl_handle_inputs(&chip8)) {
   chip8_cycle(&chip8);
   chip8_timers(&chip8);

   if (chip8.draw_flag) {
      sdl_render_frame(&sdl,&chip8);
   }

   SDL_Delay(2);
 } 
```

* this while loop run continiously till sdl_handle_inputs return false 
* and other are just chip8 stuff we will talk next 
* at last is the delay u could define a macro or create some formula to find the correct fps or just put a number 2 ~ 500 fps

## end of int main()

```c
sdl_cleanup(&sdl);
return 0;
```

* so we are cleaning everythig we used in sdl WHY?
* sdl uses heap memory anything that uses heap memory needs to be clear
* return 0; this indicates our program executed successfully
